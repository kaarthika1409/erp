{"ast":null,"code":"import api from './api';\nconst handleResponse = async promise => {\n  try {\n    const response = await promise;\n    return response.data;\n  } catch (error) {\n    console.error('Department Service Error:', error);\n    throw error;\n  }\n};\nexport const departmentService = {\n  // Create a new department\n  createDepartment: async departmentData => {\n    try {\n      const response = await api.post('/departments', departmentData);\n      return response.data;\n    } catch (error) {\n      console.error('Create Department Error:', error);\n      throw error;\n    }\n  },\n  // Get all departments\n  getAllDepartments: async () => {\n    try {\n      console.log('Fetching all departments...');\n      const response = await api.get('/departments');\n      console.log('Departments API response:', response);\n\n      // Handle different response formats\n      if (Array.isArray(response.data)) {\n        return response.data;\n      } else if (response.data && typeof response.data === 'object') {\n        return [response.data];\n      }\n      console.warn('Unexpected response format:', response);\n      return [];\n    } catch (error) {\n      var _error$response, _error$response2;\n      console.error('Get All Departments Error:', {\n        error: error,\n        response: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data,\n        status: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status\n      });\n      // Return empty array instead of throwing to prevent UI crash\n      return [];\n    }\n  },\n  // Get single department by ID\n  getDepartment: async id => {\n    try {\n      const response = await api.get(`/departments/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error('Get Department Error:', error);\n      throw error;\n    }\n  },\n  // Update department\n  updateDepartment: async (id, departmentData) => {\n    try {\n      const response = await api.put(`/departments/${id}`, departmentData);\n      return response.data;\n    } catch (error) {\n      console.error('Update Department Error:', error);\n      throw error;\n    }\n  },\n  // Delete department\n  deleteDepartment: async id => {\n    try {\n      const response = await api.delete(`/departments/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error('Delete Department Error:', error);\n      throw error;\n    }\n  }\n};\nexport default departmentService;","map":{"version":3,"names":["api","handleResponse","promise","response","data","error","console","departmentService","createDepartment","departmentData","post","getAllDepartments","log","get","Array","isArray","warn","_error$response","_error$response2","status","getDepartment","id","updateDepartment","put","deleteDepartment","delete"],"sources":["C:/Users/kaart/OneDrive/Desktop/pavakie/frontend/src/services/departmentService.js"],"sourcesContent":["import api from './api';\n\nconst handleResponse = async (promise) => {\n  try {\n    const response = await promise;\n    return response.data;\n  } catch (error) {\n    console.error('Department Service Error:', error);\n    throw error;\n  }\n};\n\nexport const departmentService = {\n  // Create a new department\n  createDepartment: async (departmentData) => {\n    try {\n      const response = await api.post('/departments', departmentData);\n      return response.data;\n    } catch (error) {\n      console.error('Create Department Error:', error);\n      throw error;\n    }\n  },\n\n  // Get all departments\n  getAllDepartments: async () => {\n    try {\n      console.log('Fetching all departments...');\n      const response = await api.get('/departments');\n      console.log('Departments API response:', response);\n      \n      // Handle different response formats\n      if (Array.isArray(response.data)) {\n        return response.data;\n      } else if (response.data && typeof response.data === 'object') {\n        return [response.data];\n      }\n      console.warn('Unexpected response format:', response);\n      return [];\n    } catch (error) {\n      console.error('Get All Departments Error:', {\n        error: error,\n        response: error.response?.data,\n        status: error.response?.status\n      });\n      // Return empty array instead of throwing to prevent UI crash\n      return [];\n    }\n  },\n\n  // Get single department by ID\n  getDepartment: async (id) => {\n    try {\n      const response = await api.get(`/departments/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error('Get Department Error:', error);\n      throw error;\n    }\n  },\n\n  // Update department\n  updateDepartment: async (id, departmentData) => {\n    try {\n      const response = await api.put(`/departments/${id}`, departmentData);\n      return response.data;\n    } catch (error) {\n      console.error('Update Department Error:', error);\n      throw error;\n    }\n  },\n\n  // Delete department\n  deleteDepartment: async (id) => {\n    try {\n      const response = await api.delete(`/departments/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error('Delete Department Error:', error);\n      throw error;\n    }\n  }\n};\n\nexport default departmentService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}